<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实验3</title>
</head>
<body>
    <script>
        // 229970507-封鉴纹
        // 1.
        console.log('第一题：\n');
        let a1, b1, c1 = [1, 2, 3, ];
        console.log(a1, b1, c1); // undefined undefined 1,2,3
        let [a2, b2, c2] = [1, 2, 3, ];
        console.log(a2, b2, c2); // 1 2 3
        let [a3, b3, c3] = [1, , 3, ];
        console.log(a3, b3, c3); // 1 undefined 3
        let [a4, b4] = [1];
        console.log(a4, b4); // 1 undefined
        let {y:a5,b5} = {x: 1,y: 2};
        console.log(a5, b5); // 2 undefined
        let {a6, b6} = 123;
        console.log(a6, b6); // undefined undefined

        // 2.
        console.log('第二题：\n');
        let set = new Set();
        set.add(1);
        set.add(2);
        set.add(3);
        set.delete(2);
        // 迭代每一个值
        let i = set.values();
        console.log(i.next()); // 第一个
        console.log(i.next()); // 第二个
        console.log(i.next()); // 没有第三个

        // 3. 2299670507-封鉴纹
        console.log('第三题：\n');
        let map = new Map();
        map.set(1, "a");
        map.set(2, "b");
        map.set(3, "c");
        map.set(4, "d");

        for (let i = 1; i <= map.size; i++) {
            console.log(map.get(i)); // a b c d
        }
        map.forEach(function(value, key) {
            console.log(value); // a b c d
        });
        for (let v of map.values()) {
            console.log(v); // a b c d
        }
        // 原因: map.values() 返回的是一个迭代器，迭代器不是数组，所以不能用 for...in 循环。
        for (var prop in map) {
            console.log(prop);
        }

        // 4.
        console.log('第四题：\n');
        // 原因：引用类型变量的赋值，只是复制了变量的引用，而不是复制变量的值。
        let arr1 = [1, 2, 3];
        let arr2 = arr1;
        console.log(arr1 === arr2); // true, arr1 是 arr2 的引用。是同一个数组。

        let arr3 = [...arr1];
        console.log(arr1 === arr3); // false, arr3 是 arr1 的浅拷贝。不是同一个数组。

        // 5.
        console.log('第五题：\n');
        let arr4 = [1, 2, 3];
        arr4.forEach(function(v, k) {
            console.log(v);
        })
        // 改写后代码：
        arr4.forEach((v, k) =>{
            console.log(v);
        })
        
        // 6.
        console.log('第六题：\n');
        // Array.of(1, 2, 3) 创建一个包含 1, 2, 3 的数组。
        // filter(i => i > 1) 选出大于 1 的元素，结果是 [2, 3]。
        // forEach 遍历过滤后的数组并输出每个元素，输出 2 3。
        Array.of(1, 2, 3).filter(i => i > 1).forEach(i => console.log(i))
        // 递归函数，获取斐波那契数列的第 n 项。当n>1 时，递归调用自己，返回前两项之和。当 n <= 1 时，直接返回 n。
        let fib = n => n > 1 ? fib(n - 1) + fib(n - 2) : n;

        // 7.实现类
        // 229970507-封鉴纹
        console.log('第七题：\n');
        class Animal{//父类
            constructor(name) {
                this.name = name;
            }
            shount() {
                console.log('Animal' + this.name);
            }
        }
        class Dog extends Animal{// 子类
            constructor(name, age) {
                super(name);
                this.age = age;
            }
            eat() {
                console.log('Dog' + this.name + this.age);
            }
        }
        let dog = new Dog('dog', 1); // 实例化
        dog.shount();
        dog.eat();
    </script>
</body>
</html>