<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>响应式</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="icon" href="https://www.baidu.com/favicon.ico">
</head>
<body>
    <div id="app"></div>
    <template id="root">
        <input type="text" v-model="firstname">
        <input type="text" v-model="lastname">
        <input type="text" v-model="fullname">
    </template>
    <script>
        const { ref, computed } = Vue;
        const app = Vue.createApp({
            template: "#root",
            setup() {
                // const firstname = ref('张');
                // const lastname = ref('三');
                // const fullname = computed({
                //     get() {
                //         return firstname.value + lastname.value;
                //     },
                //     set(value) {
                //         firstname.value = value.split(' ')[0];
                //         lastname.value = value.split(' ')[1];
                //     }
                // });
                const person = ref({
                    age: 35
                })
                watch(person, (newValue, oldValue) => {
                    console.log('person changed', newValue, oldValue);
                }, { deep: true });
                // 选项式
                // watch(){
                //     person:{
                //         handler(newValue, oldValue) {
                //             console.log('person changed', newValue, oldValue);
                //         },
                //         deep: true
                //     }
                // }
                return {
                    // firstname,
                    // lastname,
                    // fullname
                    person
                }
            }
        });
        app.mount('#app');
        // const name = ref('张三');
        // 判断是否是ref,reactive：isRef(name)--true, isReactive(name.value)--false
        // Ref接收的是一个对象，判断isRef(接收对象)是false
    </script>
</body>
</html>